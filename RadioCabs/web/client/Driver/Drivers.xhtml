<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Driver</title>        
    </h:head>
    <h:body>
        <ui:composition template="/Template/Client/ClientTemplate.xhtml">
            <ui:define name="content">
                <style type="text/css">
                    #Drivers {
                        background:url(/RadioCabs/Resource/Client/images/tail-item.gif);
                        box-shadow:inset 0 1px 3px #c5c2a9;
                        -moz-box-shadow: inset 0 1px 3px #c5c2a9;
                        -webkit-box-shadow: inset 0 1px 3px #c5c2a9;
                    }

                    #Drivers a {
                        color:#d53827;
                    }

                    .ui-widget-content {
                        background: none repeat scroll 0 0 transparent ;
                        border: none;
                        color: #4F4F4F;
                    }

                    .ui-widget {
                        font-family: 'PT Serif Caption',serif;
                        font-weight: normal;
                        font-size: 1.1em;
                    }

                    .ui-widget-content a {
                        color: #FFFFFF;
                    }

                    figure {
                        float: left;
                        margin-right: 30px;
                    }


                    .ui-paginator {                        
                        padding: 2px;
                        text-align: center;
                    }

                    .ui-widget-header {
                        background: none;
                        border: none;
                        color: #333333;
                        font-weight: bold;
                        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.7);
                    }

                    .ui-paginator .ui-paginator-rpp-options {
                        background-image: none;
                        height: 30px;
                        margin-left: 1em;
                        margin-right: 1em;
                    }
                </style>
                <section id="content"><div class="ic"></div>
                    <div class="border-horiz"></div>
                    <div class="container_12">
                        <ui:include src="Right.xhtml"/>

                        <article class="grid_8">                            
                            <!--<ui:include src="Find.xhtml"/>-->
                            <ui:include src="Detail.xhtml"/>
                            <div class="myBox">
                                <h3>List Drivers</h3>
                                <h:form id="frmList">
                                    <p:dataList id="dListDriver" value="#{controllerDriver.displayList}" 
                                                var="driver" paginator="true" rows="3" 
                                                paginatorTemplate="{PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
                                                rowsPerPageTemplate="3,5,10"
                                                paginatorPosition="bottom">  

                                        <p:column> 
                                            <div style="margin-bottom: 20px;">
                                                <figure class="box-img">                                                
                                                    <p:graphicImage style="width: 220px" url="/Images/#{driver.photo}" rendered="#{not empty driver.photo}" />                                                    
                                                    <p:graphicImage style="width: 220px;" url="/Resource/DefaultIcon/driver2.png" rendered="#{empty driver.photo}" />                                                
                                                </figure>
                                                <div class="overflow">
                                                    <h4><h:outputText value="#{driver.registrationId}"/></h4>
                                                    <div>                                                    
                                                        <div>Name: <h:outputText value="#{driver.name}"/></div>
                                                        <div>Experience: <h:outputText value="#{driver.experience}"/> years</div>
                                                        <div>City: <h:outputText value="#{driver.city}"/></div>
                                                        <div>Tel: <h:outputText value="#{driver.telephone}"/></div>
                                                    </div>  
                                                    <div style="margin-top: 5px;">
                                                        <p:commandLink styleClass="btn" oncomplete="wgDetail.show()" value="View Detail" update=":frmDetail">
                                                            <f:setPropertyActionListener value="#{driver}" target="#{controllerDriver.selected}" />                                            
                                                        </p:commandLink>
                                                    </div>
                                                </div>
                                                <div class="clear"></div>  
                                            </div>
                                        </p:column>

                                    </p:dataList> 
                                </h:form>
                            </div>                            
                        </article>                        
                        <div class="clear"></div>
                    </div>
                </section>
            </ui:define>
        </ui:composition>

    </h:body>
</html>
